import r,{useRef as e,useContext as n,useCallback as t}from"react";import{func as o,node as i}from"prop-types";import{_document as u}from"../../utility/mocks/mocks.es.js";import c from"../useEventListener/useEventListener.es.js";import s from"./useClickOutside.context.es.js";var m=function(r){var o=e(!1),i=n(s);return c("mousedown",(function(r){o.current=!i(o.current,r)}),{current:u}),c("mouseup",(function(e){o.current?o.current=!1:r(e)}),{current:u}),t((function(){o.current=!0}),[o])},p=function(e){var n=e.children,t=e.onClickOutside,o=m(t);return r.cloneElement(r.Children.only(n),{onMouseDownCapture:o})},l=function(e){var n=e.condition,t=e.children;return r.createElement(s.Provider,{value:n},t)};l.propTypes={condition:o,children:i};export{p as ClickOutside,l as ClickOutsideOverride,m as useClickOutside};
